<template>
  <div class="layout header">
    <div class="layout navigateBar">
      <img class="logo" :src="logo">
      <div
        style="cursor:pointer;"
        :class="(pageIndex === item.id ? 'selectedPage':'page') + ' ' + item.navigateTo"
        v-for="(item,idx) in navigatePages"
        :key="idx"
        @click="navigate(item)"
      >{{item.title}}</div>
    </div>
    <div class="layout navigateList">
      <div
        style="cursor:pointer;"
        :class="(pageIndex === item.id ? 'selectedItem':'item') + ' ' + item.route"
        v-for="(item, idx) in websites"
        :key="idx"
        @click="router(item)"
      >
        <div>{{item.name}}</div>
        <svg-icon :icon-class="item.route"></svg-icon>
      </div>
    </div>
  </div>
</template>

<script>
import { websites, navigatePages } from '../js/config'
// import { constants } from 'crypto'
export default {
  data() {
    return {
      navigatePages: navigatePages,
      websites: websites,
      searchReault: '',

      pageIndex: '',
      value: '',
      showSearch: '',
      logo: require('@/assets/logo.png')
    }
  },
  methods: {
    navigate(item) {
      this.$router.push('/' + item.navigateTo)
      this.pageIndex = item.id

      // console.log(this.pageIndex)
      // console.log('----------')

      // this.$emit('getPageIndex', item.id)
    },
    router(item) {
      this.$router.push('/home/' + item.route)
      this.pageIndex = item.id

      // this.$emit('getPageIndex', item.id)
    },
    // submit: function() {
    //   switch (this.website.id) {
    //     case 0:
    //   }
    // }
    updateRouter: function() {
      let pagePath = this.$route.path
      switch (pagePath) {
        case '/home':
          this.pageIndex = 0
          break
        case '/aboutus':
          this.pageIndex = 1
          break
        case '/help':
          this.pageIndex = 2
          break
        case '/home/douyu':
          this.pageIndex = 3
          break
        case '/home/huya':
          this.pageIndex = 4
          break
        case '/home/qie':
          this.pageIndex = 5
          break
        case '/home/chushou':
          this.pageIndex = 6
          break
        case '/home/yy':
          this.pageIndex = 7
          break
      }
    }

    // isShowSearch:function(){
    //   switch(this.pageIndex){
    //     case (0||1||2):
    //       this.showSearch = false
    //       break
    //     case (3||4||5||6||7):
    //       this.showSearch = true
    //       break
    //   }
    // }
  },
  watch: {
    $route: function(to, from) {
      console.log('kkkkkkkkkkkkkkkkkkkkkkk')
      console.log(to.path)
      this.updateRouter()
      console.log(this.pageIndex)
      // this.isShowSearch()
    }
  },
  beforeMount() {
    console.log('lllllllllllllllllll')
    console.log(this.$route.path)
    this.updateRouter()
    console.log(this.pageIndex)
    // this.isShowSearch()
  }
}
</script>

<style lang='stylus' src="../css/header.styl">
.svg-icon {
  width: 100px;
  height: 50px;
  vertical-align: -0.15em;
  fill: currentColor;
  overflow: hidden;
}
</style>































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































// @import '../icon/iconfont.css';































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































</style>
